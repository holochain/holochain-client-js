<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@holochain/client](./client.md) &gt; [CountersigningSessionState](./client.countersigningsessionstate.md)

## CountersigningSessionState type


**Signature:**

```typescript
export type CountersigningSessionState = 
/**
 * This is the entry state. Accepting a countersigning session through the HDK will immediately
 * register the countersigning session in this state, for management by the countersigning workflow.
 *
 * The session will stay in this state even when the agent commits their countersigning entry and only
 * move to the next state when the first signature bundle is received.
 */
{
    [CountersigningSessionStateType.Accepted]: PreflightRequest;
}
/**
 * This is the state where we have collected one or more signatures for a countersigning session.
 *
 * This state can be entered from the [CountersigningSessionState::Accepted] state, which happens
 * when a witness returns a signature bundle to us. While the session has not timed out, we will
 * stay in this state and wait until one of the signatures bundles we have received is valid for
 * the session to be completed.
 *
 * If we entered this state from the [CountersigningSessionState::Accepted] state, we will either
 * complete the session successfully or the session will time out. On a timeout we will move
 * to the [CountersigningSessionState::Unknown] for a limited number of attempts to recover the session.
 *
 * This state can also be entered from the [CountersigningSessionState::Unknown] state, which happens when we
 * have been able to recover the session from the source chain and have requested signed actions
 * from agent authorities to build a signature bundle.
 *
 * If we entered this state from the [CountersigningSessionState::Unknown] state, we will either
 * complete the session successfully, or if the signatures are invalid, we will return to the
 * [CountersigningSessionState::Unknown] state.
 */
 | {
    [CountersigningSessionStateType.SignaturesCollected]: {
        preflight_request: PreflightRequest;
        signature_bundles: SignedAction[][];
        resolution?: SessionResolutionSummary;
    };
}
/**
 * The session is in an unknown state and needs to be resolved.
 *
 * This state is used when we have lost track of the countersigning session. This happens if
 * we have got far enough to create the countersigning entry but have crashed or restarted
 * before we could complete the session. In this case we need to try to discover what the other
 * agent or agents involved in the session have done.
 *
 * This state is also entered temporarily when we have published a signature and then the
 * session has timed out. To avoid deadlocking with two parties both waiting for each other to
 * proceed, we cannot stay in this state indefinitely. We will make a limited number of attempts
 * to recover and if we cannot, we will abandon the session.
 *
 * The only exception to the attempt limiting is if we are unable to reach agent activity authorities
 * to progress resolving the session. In this case, the attempts are not counted towards the
 * configured limit. This does not protect us against a network partition where we can only see
 * a subset of the network, but it does protect us against Holochain forcing a decision while
 * it is unable to reach any peers.
 *
 * Note that because the [PreflightRequest] is stored here, we only ever enter the unknown state
 * if we managed to keep the preflight request in memory, or if we have been able to recover it
 * from the source chain as part of the committed [CounterSigningSessionData]. Otherwise, we
 * are unable to discover what session we were participating in, and we must abandon the session
 * without going through this recovery state.
 */
 | {
    [CountersigningSessionStateType.Unknown]: {
        preflight_request: PreflightRequest;
        resolution: SessionResolutionSummary;
        force_abandon: boolean;
        force_publish: boolean;
    };
};
```
**References:** [CountersigningSessionStateType.Accepted](./client.countersigningsessionstatetype.md)<!-- -->, [PreflightRequest](./client.preflightrequest.md)<!-- -->, [CountersigningSessionStateType.SignaturesCollected](./client.countersigningsessionstatetype.md)<!-- -->, [SignedAction](./client.signedaction.md)<!-- -->, [SessionResolutionSummary](./client.sessionresolutionsummary.md)<!-- -->, [CountersigningSessionStateType.Unknown](./client.countersigningsessionstatetype.md)

